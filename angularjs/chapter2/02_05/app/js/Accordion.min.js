var expModule=angular.module("expanderModule",[]);expModule.directive("accordion",function(){return{restrict:"EA",replace:true,transclude:true,template:"<div ng-transclude></div>",controller:function(){var a=[];this.gotOpened=function(b){angular.forEach(a,function(c){if(b!=c){c.showMe=false}})};this.addExpander=function(b){a.push(b)}}}});expModule.directive("expander",function(){return{restrict:"EA",replace:true,transclude:true,require:"^?accordion",scope:{title:"=expanderTitle"},template:'<div><div class="title" ng-click="toggle()">{{title}}</div><div class="body" ng-show="showMe" ng-transclude></div></div>',link:function(e,d,c,b){e.showMe=false;b.addExpander(e);e.toggle=function a(){e.showMe=!e.showMe;b.gotOpened(e)}}}});expModule.controller("SomeController",function(a){a.expanders=[{title:"Click me to expand",text:"Hi there folks, I am the content that was hidden but is now shown."},{title:"Click this",text:"I am even better text than you have seen previously"},{title:"Test",text:"test"}]});