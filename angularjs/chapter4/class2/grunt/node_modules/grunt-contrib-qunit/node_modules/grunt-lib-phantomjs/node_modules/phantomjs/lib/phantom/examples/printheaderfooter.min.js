(function(){var a,b,e,c,d;c=function(g,f){return"<h1> someCallback: "+g+" / "+f+"</h1>"};e=require("webpage").create();d=require("system");if(d.args.length<3){console.log("Usage: printheaderfooter.js URL filename");phantom.exit(1)}else{a=d.args[1];b=d.args[2];e.viewportSize={width:600,height:600};e.paperSize={format:"A4",margin:"1cm",header:{height:"1cm",contents:phantom.callback(function(g,f){if(g===1){return""}return"<h1>Header <span style='float:right'>"+g+" / "+f+"</span></h1>"})},footer:{height:"1cm",contents:phantom.callback(function(g,f){if(g===f){return""}return"<h1>Footer <span style='float:right'>"+g+" / "+f+"</span></h1>"})}};e.open(a,function(f){var g;if(f!=="success"){return console.log("Unable to load the address!")}else{if(e.evaluate(function(){return typeof PhantomJSPrinting==="object"})){g=e.paperSize;g.header.height=e.evaluate(function(){return PhantomJSPrinting.header.height});g.header.contents=phantom.callback(function(i,h){return e.evaluate((function(k,j){return PhantomJSPrinting.header.contents(k,j)}),i,h)});g.footer.height=e.evaluate(function(){return PhantomJSPrinting.footer.height});g.footer.contents=phantom.callback(function(i,h){return e.evaluate((function(k,j){return PhantomJSPrinting.footer.contents(k,j)}),i,h)});e.paperSize=g;console.log(e.paperSize.header.height);console.log(e.paperSize.footer.height)}return window.setTimeout((function(){e.render(b);return phantom.exit()}),200)}})}}).call(this);