(function(){var d,c,b,a;c=require("webpage").create();b=require("system");d="Mountain View, California";if(b.args.length>1){d=Array.prototype.slice.call(b.args,1).join(" ")}a=encodeURI("http://api.openweathermap.org/data/2.1/find/name?q="+d);console.log("Checking weather condition for",d,"...");c.open(a,function(g){var h,i,f;if(g!=="success"){console.log("Error: Unable to access network!")}else{f=c.evaluate(function(){return document.body.innerText});try{h=JSON.parse(f);h=h.list[0];console.log("");console.log("City:",h.name);console.log("Condition:",h.weather.map(function(e){return e.main}));console.log("Temperature:",Math.round(h.main.temp-273.15),"C");console.log("Humidity:",Math.round(h.main.humidity),"%")}catch(j){i=j;console.log("Error:",i.toString())}}return phantom.exit()})}).call(this);