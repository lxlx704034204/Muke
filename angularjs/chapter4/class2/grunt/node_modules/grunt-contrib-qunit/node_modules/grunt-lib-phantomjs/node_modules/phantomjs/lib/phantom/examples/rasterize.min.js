(function(){var a,b,e,c,d;e=require("webpage").create();d=require("system");if(d.args.length<3||d.args.length>4){console.log("Usage: rasterize.coffee URL filename [paperwidth*paperheight|paperformat]");console.log('  paper (pdf output) examples: "5in*7.5in", "10cm*20cm", "A4", "Letter"');phantom.exit(1)}else{a=d.args[1];b=d.args[2];e.viewportSize={width:600,height:600};if(d.args.length===4&&d.args[2].substr(-4)===".pdf"){c=d.args[3].split("*");if(c.length===2){e.paperSize={width:c[0],height:c[1],border:"0px"}}else{e.paperSize={format:d.args[3],orientation:"portrait",border:"1cm"}}}e.open(a,function(f){if(f!=="success"){console.log("Unable to load the address!");return phantom.exit()}else{return window.setTimeout((function(){e.render(b);return phantom.exit()}),200)}})}}).call(this);